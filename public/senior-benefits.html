<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Senior Benefits - Exclusive Savings for Seniors 55+</title>
    <meta name="description" content="Discover exclusive senior discounts on groceries, prescriptions, and everyday essentials. Save up to 40% with benefits designed specifically for seniors.">
    
    <!-- Open Graph tags -->
    <meta property="og:title" content="Senior Benefits - Exclusive Savings for Seniors 55+">
    <meta property="og:description" content="Unlock savings on groceries, prescriptions, and more with benefits designed for seniors.">
    <meta property="og:type" content="website">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #e0f2fe 0%, #f0fdf4 100%);
            min-height: 100vh;
        }
        
        .hero-section {
            text-align: center;
            padding: 60px 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .hero-title {
            font-size: 3.5rem;
            font-weight: bold;
            color: #1f2937;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .hero-subtitle {
            font-size: 1.5rem;
            color: #6b7280;
            margin-bottom: 40px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .seniors-illustration {
            max-width: 600px;
            margin: 40px auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .cta-button {
            background: linear-gradient(135deg, #059669 0%, #10b981 100%);
            color: white;
            border: none;
            padding: 20px 50px;
            font-size: 1.5rem;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(5, 150, 105, 0.3);
            margin: 30px 0;
            display: inline-block;
        }
        
        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(5, 150, 105, 0.4);
        }
        
        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            max-width: 1000px;
            margin: 60px auto;
            padding: 0 20px;
        }
        
        .benefit-card {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            text-align: center;
            transition: transform 0.3s ease;
        }
        
        .benefit-card:hover {
            transform: translateY(-5px);
        }
        
        .benefit-icon {
            font-size: 3rem;
            margin-bottom: 20px;
        }
        
        .benefit-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: #1f2937;
            margin-bottom: 10px;
        }
        
        .benefit-description {
            color: #6b7280;
            font-size: 1rem;
        }
        
        .trust-indicators {
            background: white;
            margin: 60px 20px;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            text-align: center;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .testimonial {
            font-style: italic;
            font-size: 1.2rem;
            color: #4b5563;
            margin-bottom: 20px;
        }
        
        .testimonial-author {
            font-weight: bold;
            color: #059669;
        }
        
        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.5rem;
            }
            
            .hero-subtitle {
                font-size: 1.2rem;
            }
            
            .cta-button {
                padding: 15px 30px;
                font-size: 1.2rem;
            }
            
            .benefits-grid {
                grid-template-columns: 1fr;
                margin: 40px auto;
            }
        }
    </style>
</head>
<body>
    <!-- Email Capture Step -->
    <div id="email-step" class="hero-section">
        <h1 class="hero-title">🛒 Unlock Senior Savings</h1>
        <p class="hero-subtitle">
            Get personalized discounts on groceries, prescriptions, and more!
        </p>
        
        <!-- Email Form Card -->
        <div style="background: white; padding: 50px; border-radius: 20px; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); max-width: 600px; margin: 50px auto;">
            <h2 style="margin: 0 0 30px 0; color: #1f2937; font-size: 28px; font-weight: 600; text-align: center;">
                Start Your Savings Journey
            </h2>
            <p style="margin: 0 0 40px 0; color: #6b7280; font-size: 18px; line-height: 1.5; text-align: center;">
                Enter your email to unlock savings on groceries, prescriptions, and more!
            </p>
            
            <div style="margin-bottom: 30px;">
                <input type="email" id="email-input" placeholder="Your email address" 
                       style="width: 100%; padding: 20px; border: 2px solid #e5e7eb; border-radius: 12px; font-size: 18px; box-sizing: border-box; transition: border-color 0.2s;" 
                       onfocus="this.style.borderColor='#059669'" onblur="this.style.borderColor='#e5e7eb'">
            </div>
            
            <button onclick="submitEmail()" 
                    style="width: 100%; padding: 20px; background: #059669; color: white; border: none; border-radius: 12px; font-size: 18px; font-weight: 600; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s;"
                    onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 10px 25px -5px rgba(0,0,0,0.1)'"
                    onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
                🛒 Get My Savings Now!
            </button>
            
            <p style="margin-top: 30px; color: #6b7280; font-size: 16px; text-align: center;">
                Secure and confidential. Designed specifically for seniors 55+
            </p>
        </div>
        
        <div class="seniors-illustration">
            <!-- SVG illustration of seniors with grocery bags -->
            <svg viewBox="0 0 800 400" style="width: 100%; height: auto;">
                <!-- Background -->
                <rect width="800" height="400" fill="#f8fafc"/>
                
                <!-- Ground -->
                <ellipse cx="400" cy="380" rx="350" ry="20" fill="#e2e8f0" opacity="0.6"/>
                
                <!-- Senior Woman -->
                <g transform="translate(200, 100)">
                    <!-- Body -->
                    <ellipse cx="50" cy="180" rx="35" ry="55" fill="#fbbf24"/>
                    <!-- Head -->
                    <circle cx="50" cy="60" r="35" fill="#fde68a"/>
                    <!-- Hair -->
                    <path d="M20 45 Q50 20 80 45 Q75 35 50 30 Q25 35 20 45" fill="#d1d5db"/>
                    <!-- Face features -->
                    <circle cx="42" cy="55" r="2" fill="#374151"/>
                    <circle cx="58" cy="55" r="2" fill="#374151"/>
                    <path d="M45 65 Q50 70 55 65" stroke="#374151" stroke-width="2" fill="none"/>
                    <!-- Arms -->
                    <ellipse cx="25" cy="130" rx="12" ry="40" fill="#fbbf24"/>
                    <ellipse cx="75" cy="130" rx="12" ry="40" fill="#fbbf24"/>
                    <!-- Legs -->
                    <ellipse cx="35" cy="250" rx="15" ry="45" fill="#3b82f6"/>
                    <ellipse cx="65" cy="250" rx="15" ry="45" fill="#3b82f6"/>
                    <!-- Grocery bag in left hand -->
                    <rect x="10" y="150" width="20" height="25" fill="#8b5cf6" rx="2"/>
                    <rect x="12" y="148" width="16" height="8" fill="#a78bfa"/>
                    <!-- Grocery items poking out -->
                    <rect x="14" y="145" width="3" height="8" fill="#22c55e"/>
                    <rect x="18" y="143" width="4" height="10" fill="#ef4444"/>
                    <rect x="23" y="146" width="3" height="7" fill="#f59e0b"/>
                </g>
                
                <!-- Senior Man -->
                <g transform="translate(450, 110)">
                    <!-- Body -->
                    <ellipse cx="50" cy="170" rx="40" ry="50" fill="#3b82f6"/>
                    <!-- Head -->
                    <circle cx="50" cy="60" r="32" fill="#fde68a"/>
                    <!-- Hair -->
                    <path d="M25 50 Q50 25 75 50 Q70 40 50 35 Q30 40 25 50" fill="#9ca3af"/>
                    <!-- Face features -->
                    <circle cx="43" cy="55" r="2" fill="#374151"/>
                    <circle cx="57" cy="55" r="2" fill="#374151"/>
                    <path d="M46 65 Q50 70 54 65" stroke="#374151" stroke-width="2" fill="none"/>
                    <!-- Arms -->
                    <ellipse cx="20" cy="125" rx="15" ry="35" fill="#3b82f6"/>
                    <ellipse cx="80" cy="125" rx="15" ry="35" fill="#3b82f6"/>
                    <!-- Legs -->
                    <ellipse cx="35" cy="240" rx="18" ry="40" fill="#374151"/>
                    <ellipse cx="65" cy="240" rx="18" ry="40" fill="#374151"/>
                    <!-- Grocery bag in right hand -->
                    <rect x="85" y="145" width="22" height="28" fill="#10b981" rx="2"/>
                    <rect x="87" y="143" width="18" height="8" fill="#34d399"/>
                    <!-- Grocery items -->
                    <circle cx="92" cy="140" r="3" fill="#ef4444"/>
                    <circle cx="98" cy="138" r="2.5" fill="#f59e0b"/>
                    <rect x="102" y="136" width="3" height="8" fill="#22c55e"/>
                </g>
                
                <!-- Excitement indicators -->
                <g transform="translate(180, 60)">
                    <text x="0" y="0" font-size="24" fill="#fbbf24">✨</text>
                    <text x="30" y="-10" font-size="20" fill="#fbbf24">✨</text>
                    <text x="15" y="25" font-size="18" fill="#fbbf24">✨</text>
                </g>
                
                <g transform="translate(520, 70)">
                    <text x="0" y="0" font-size="24" fill="#fbbf24">✨</text>
                    <text x="-20" y="20" font-size="20" fill="#fbbf24">✨</text>
                    <text x="25" y="15" font-size="18" fill="#fbbf24">✨</text>
                </g>
                
                <!-- Title text in SVG -->
                <text x="400" y="50" text-anchor="middle" font-size="32" font-weight="bold" fill="#1f2937">
                    Save More on Groceries!
                </text>
                <text x="400" y="85" text-anchor="middle" font-size="18" fill="#6b7280">
                    Discover exclusive senior discounts and benefits
                </text>
            </svg>
        </div>
        
    </div>

    <!-- Personal Info Step (hidden initially) -->
    <div id="personal-info-step" class="hero-section" style="display: none;">
        <h1 class="hero-title">📋 Complete Your Profile</h1>
        <p class="hero-subtitle">
            Just a few details to personalize your benefits
        </p>
        
        <!-- Personal Info Form Card -->
        <div style="background: white; padding: 50px; border-radius: 20px; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); max-width: 700px; margin: 50px auto;">
            <h2 style="margin: 0 0 15px 0; color: #1f2937; font-size: 32px; font-weight: 700; text-align: center;">
                Complete Your Profile
            </h2>
            
            <div style="margin-bottom: 40px; text-align: center;">
                <h3 style="color: #059669; font-size: 22px; margin: 0 0 10px 0;">Almost There!</h3>
                <p style="color: #6b7280; font-size: 16px; margin: 0;">Just a few details to personalize your benefits</p>
            </div>
            
            <!-- Form Grid -->
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                <div>
                    <label style="display: block; margin-bottom: 8px; color: #374151; font-weight: 600; font-size: 18px; text-align: left;">First Name</label>
                    <input type="text" id="first-name" placeholder="Your first name" 
                           style="width: 100%; padding: 16px; border: 2px solid #e5e7eb; border-radius: 12px; font-size: 18px; box-sizing: border-box; transition: border-color 0.2s;"
                           onfocus="this.style.borderColor='#059669'" onblur="this.style.borderColor='#e5e7eb'">
                </div>
                
                <div>
                    <label style="display: block; margin-bottom: 8px; color: #374151; font-weight: 600; font-size: 18px; text-align: left;">Last Name</label>
                    <input type="text" id="last-name" placeholder="Your last name" 
                           style="width: 100%; padding: 16px; border: 2px solid #e5e7eb; border-radius: 12px; font-size: 18px; box-sizing: border-box; transition: border-color 0.2s;"
                           onfocus="this.style.borderColor='#059669'" onblur="this.style.borderColor='#e5e7eb'">
                </div>
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                <div>
                    <label style="display: block; margin-bottom: 8px; color: #374151; font-weight: 600; font-size: 18px; text-align: left;">Phone Number</label>
                    <input type="tel" id="phone" placeholder="Your phone number" 
                           style="width: 100%; padding: 16px; border: 2px solid #e5e7eb; border-radius: 12px; font-size: 18px; box-sizing: border-box; transition: border-color 0.2s;"
                           onfocus="this.style.borderColor='#059669'" onblur="this.style.borderColor='#e5e7eb'">
                </div>
                
                <div>
                    <label style="display: block; margin-bottom: 8px; color: #374151; font-weight: 600; font-size: 18px; text-align: left;">Birth Year</label>
                    <input type="text" id="dob" placeholder="YYYY (e.g., 1950)" 
                           style="width: 100%; padding: 16px; border: 2px solid #e5e7eb; border-radius: 12px; font-size: 18px; box-sizing: border-box; transition: border-color 0.2s;"
                           onfocus="this.style.borderColor='#059669'" onblur="this.style.borderColor='#e5e7eb'">
                </div>
            </div>
            
            <div style="margin-bottom: 40px;">
                <label style="display: block; margin-bottom: 15px; color: #374151; font-weight: 600; font-size: 18px;">Gender</label>
                <div style="display: flex; gap: 15px;">
                    <button type="button" id="gender-male" onclick="selectGender('Male')" 
                            style="flex: 1; padding: 16px; border: 2px solid #e5e7eb; border-radius: 12px; background: white; cursor: pointer; font-size: 18px; transition: all 0.2s;"
                            onmouseover="this.style.borderColor='#059669'; this.style.backgroundColor='#f8fafc'"
                            onmouseout="this.style.borderColor='#e5e7eb'; this.style.backgroundColor='white'">
                        Male
                    </button>
                    <button type="button" id="gender-female" onclick="selectGender('Female')" 
                            style="flex: 1; padding: 16px; border: 2px solid #e5e7eb; border-radius: 12px; background: white; cursor: pointer; font-size: 18px; transition: all 0.2s;"
                            onmouseover="this.style.borderColor='#059669'; this.style.backgroundColor='#f8fafc'"
                            onmouseout="this.style.borderColor='#e5e7eb'; this.style.backgroundColor='white'">
                        Female
                    </button>
                </div>
            </div>
            
            <button onclick="submitPersonalInfo()" 
                    style="width: 100%; padding: 18px; background: #059669; color: white; border: none; border-radius: 12px; font-size: 18px; font-weight: 600; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s;"
                    onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 10px 25px -5px rgba(0,0,0,0.1)'"
                    onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
                🎯 Find My Benefits
            </button>
            
            <p style="margin-top: 30px; color: #6b7280; font-size: 14px; text-align: center;">
                Your information is secure and used only to match you with relevant senior benefits
            </p>
        </div>
    </div>
    
    <div class="benefits-grid" style="display: none;">
        <div class="benefit-card">
            <div class="benefit-icon">🛒</div>
            <h3 class="benefit-title">Grocery Discounts</h3>
            <p class="benefit-description">Save 15-40% at major retailers including Walmart, Kroger, and more</p>
        </div>
        
        <div class="benefit-card">
            <div class="benefit-icon">💊</div>
            <h3 class="benefit-title">Prescription Savings</h3>
            <p class="benefit-description">Reduce medication costs with exclusive pharmacy partnerships</p>
        </div>
        
        <div class="benefit-card">
            <div class="benefit-icon">🏥</div>
            <h3 class="benefit-title">Healthcare Benefits</h3>
            <p class="benefit-description">Access affordable dental, vision, and wellness programs</p>
        </div>
        
        <div class="benefit-card">
            <div class="benefit-icon">🎯</div>
            <h3 class="benefit-title">Exclusive Offers</h3>
            <p class="benefit-description">Senior-only deals on travel, entertainment, and services</p>
        </div>
    </div>
    
    <div class="trust-indicators">
        <p class="testimonial">
            "I've saved over $200 this month on groceries alone! These benefits are a game-changer for seniors on a fixed income."
        </p>
        <p class="testimonial-author">- Margaret K., Age 67</p>
        
        <div style="margin-top: 30px;">
            <strong style="color: #059669; font-size: 1.1rem;">Trusted by 50,000+ Seniors Nationwide</strong>
        </div>
    </div>

    <script>
        // Global variables
        let currentSessionId = 'senior-demo-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9);
        let userEmail = '';
        let selectedGender = '';
        let userProfile = {};
        
        // Email submission function
        function submitEmail() {
            const emailInput = document.getElementById('email-input');
            const email = emailInput.value.trim();
            
            // Email validation
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!email || !emailRegex.test(email)) {
                alert('Please enter a valid email address');
                return;
            }
            
            userEmail = email;
            
            // Hide email step and show personal info step
            document.getElementById('email-step').style.display = 'none';
            document.getElementById('personal-info-step').style.display = 'block';
        }
        
        // Gender selection function
        function selectGender(gender) {
            selectedGender = gender;
            
            // Update button styles
            const maleBtn = document.getElementById('gender-male');
            const femaleBtn = document.getElementById('gender-female');
            
            if (gender === 'Male') {
                maleBtn.style.background = '#059669';
                maleBtn.style.color = 'white';
                maleBtn.style.borderColor = '#059669';
                femaleBtn.style.background = 'white';
                femaleBtn.style.color = '#374151';
                femaleBtn.style.borderColor = '#e5e7eb';
            } else {
                femaleBtn.style.background = '#059669';
                femaleBtn.style.color = 'white';
                femaleBtn.style.borderColor = '#059669';
                maleBtn.style.background = 'white';
                maleBtn.style.color = '#374151';
                maleBtn.style.borderColor = '#e5e7eb';
            }
        }
        
        // Personal info submission function
        async function submitPersonalInfo() {
            const firstName = document.getElementById('first-name').value.trim();
            const lastName = document.getElementById('last-name').value.trim();
            const phone = document.getElementById('phone').value.trim();
            const dob = document.getElementById('dob').value.trim();
            
            // Basic validation
            if (!firstName || !lastName || !phone || !dob || !selectedGender) {
                alert('Please fill in all fields');
                return;
            }
            
            // Create user profile
            userProfile = {
                email: userEmail,
                firstName: firstName,
                lastName: lastName,
                phone: phone,
                dateOfBirth: dob,
                gender: selectedGender
            };
            
            try {
                // Create session on backend
                const sessionResponse = await fetch('/api/sessions', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        sessionId: currentSessionId,
                        siteId: 3,
                        device: 'desktop',
                        userAgent: navigator.userAgent,
                        email: userEmail,
                        userProfile: userProfile
                    })
                });
                
                if (sessionResponse.ok) {
                    // Continue to questions flow using the widget system
                    alert('Profile completed! Continuing to questions...');
                    
                    // Initialize widget for questions flow
                    const questionsResponse = await fetch('/api/flow/next-action', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            sessionId: currentSessionId,
                            action: 'complete_personal_info'
                        })
                    });
                    
                    if (questionsResponse.ok) {
                        const result = await questionsResponse.json();
                        console.log('Next action:', result.action);
                        
                        // Redirect to the dashboard questionnaire flow
                        window.location.href = '/questions?session=' + currentSessionId;
                    }
                } else {
                    throw new Error('Failed to create session');
                }
                
            } catch (error) {
                console.error('Error submitting profile:', error);
                alert('There was an issue submitting your information. Please try again.');
            }
        }
        
        // Allow Enter key to submit forms
        document.addEventListener('DOMContentLoaded', function() {
            const emailInput = document.getElementById('email-input');
            if (emailInput) {
                emailInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        submitEmail();
                    }
                });
            }
        });
    </script>
</body>
</html>