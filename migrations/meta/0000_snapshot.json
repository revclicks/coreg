{
  "id": "08af2191-2bb5-488c-b748-33c53ceae3a2",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.ab_test_experiments": {
      "name": "ab_test_experiments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "test_type": {
          "name": "test_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'draft'"
        },
        "traffic_split": {
          "name": "traffic_split",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 50
        },
        "start_date": {
          "name": "start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "end_date": {
          "name": "end_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "winner_variant": {
          "name": "winner_variant",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "confidence_level": {
          "name": "confidence_level",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "statistical_significance": {
          "name": "statistical_significance",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ab_test_results": {
      "name": "ab_test_results",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "experiment_id": {
          "name": "experiment_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "variant_id": {
          "name": "variant_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "assigned_at": {
          "name": "assigned_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "impressions": {
          "name": "impressions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "clicks": {
          "name": "clicks",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "conversions": {
          "name": "conversions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "revenue": {
          "name": "revenue",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "completion_time": {
          "name": "completion_time",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ab_test_results_experiment_id_ab_test_experiments_id_fk": {
          "name": "ab_test_results_experiment_id_ab_test_experiments_id_fk",
          "tableFrom": "ab_test_results",
          "tableTo": "ab_test_experiments",
          "columnsFrom": [
            "experiment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ab_test_results_variant_id_ab_test_variants_id_fk": {
          "name": "ab_test_results_variant_id_ab_test_variants_id_fk",
          "tableFrom": "ab_test_results",
          "tableTo": "ab_test_variants",
          "columnsFrom": [
            "variant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ab_test_variants": {
      "name": "ab_test_variants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "experiment_id": {
          "name": "experiment_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "variant": {
          "name": "variant",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "campaign_id": {
          "name": "campaign_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "question_id": {
          "name": "question_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_control": {
          "name": "is_control",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ab_test_variants_experiment_id_ab_test_experiments_id_fk": {
          "name": "ab_test_variants_experiment_id_ab_test_experiments_id_fk",
          "tableFrom": "ab_test_variants",
          "tableTo": "ab_test_experiments",
          "columnsFrom": [
            "experiment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ab_test_variants_campaign_id_campaigns_id_fk": {
          "name": "ab_test_variants_campaign_id_campaigns_id_fk",
          "tableFrom": "ab_test_variants",
          "tableTo": "campaigns",
          "columnsFrom": [
            "campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ab_test_variants_question_id_questions_id_fk": {
          "name": "ab_test_variants_question_id_questions_id_fk",
          "tableFrom": "ab_test_variants",
          "tableTo": "questions",
          "columnsFrom": [
            "question_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.audience_segments": {
      "name": "audience_segments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "conditions": {
          "name": "conditions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "segment_type": {
          "name": "segment_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "estimated_size": {
          "name": "estimated_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "active": {
          "name": "active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.campaign_clicks": {
      "name": "campaign_clicks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "campaign_id": {
          "name": "campaign_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "click_id": {
          "name": "click_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "campaign_clicks_session_id_user_sessions_session_id_fk": {
          "name": "campaign_clicks_session_id_user_sessions_session_id_fk",
          "tableFrom": "campaign_clicks",
          "tableTo": "user_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "session_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "campaign_clicks_campaign_id_campaigns_id_fk": {
          "name": "campaign_clicks_campaign_id_campaigns_id_fk",
          "tableFrom": "campaign_clicks",
          "tableTo": "campaigns",
          "columnsFrom": [
            "campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "campaign_clicks_click_id_unique": {
          "name": "campaign_clicks_click_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "click_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.campaign_conversions": {
      "name": "campaign_conversions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "click_id": {
          "name": "click_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "revenue": {
          "name": "revenue",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "campaign_conversions_click_id_campaign_clicks_click_id_fk": {
          "name": "campaign_conversions_click_id_campaign_clicks_click_id_fk",
          "tableFrom": "campaign_conversions",
          "tableTo": "campaign_clicks",
          "columnsFrom": [
            "click_id"
          ],
          "columnsTo": [
            "click_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.campaign_impressions": {
      "name": "campaign_impressions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "campaign_id": {
          "name": "campaign_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "campaign_impressions_campaign_id_campaigns_id_fk": {
          "name": "campaign_impressions_campaign_id_campaigns_id_fk",
          "tableFrom": "campaign_impressions",
          "tableTo": "campaigns",
          "columnsFrom": [
            "campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "campaign_impressions_session_id_user_sessions_session_id_fk": {
          "name": "campaign_impressions_session_id_user_sessions_session_id_fk",
          "tableFrom": "campaign_impressions",
          "tableTo": "user_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "session_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.campaigns": {
      "name": "campaigns",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "vertical": {
          "name": "vertical",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "campaign_type": {
          "name": "campaign_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'standard'"
        },
        "age_min": {
          "name": "age_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "age_max": {
          "name": "age_max",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "gender": {
          "name": "gender",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "states": {
          "name": "states",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "device": {
          "name": "device",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "convert_once": {
          "name": "convert_once",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "targeting": {
          "name": "targeting",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "day_parting": {
          "name": "day_parting",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "active": {
          "name": "active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "image_url": {
          "name": "image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "frequency": {
          "name": "frequency",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cpc_bid": {
          "name": "cpc_bid",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "lead_bid": {
          "name": "lead_bid",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "daily_budget": {
          "name": "daily_budget",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "conversion_pixels": {
          "name": "conversion_pixels",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "company_name": {
          "name": "company_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "webhook_url": {
          "name": "webhook_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lead_terms": {
          "name": "lead_terms",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.flow_ab_test_experiments": {
      "name": "flow_ab_test_experiments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "site_id": {
          "name": "site_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "traffic_split": {
          "name": "traffic_split",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "start_date": {
          "name": "start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "end_date": {
          "name": "end_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "min_sample_size": {
          "name": "min_sample_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1000
        },
        "confidence_level": {
          "name": "confidence_level",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.95'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "flow_ab_test_experiments_site_id_sites_id_fk": {
          "name": "flow_ab_test_experiments_site_id_sites_id_fk",
          "tableFrom": "flow_ab_test_experiments",
          "tableTo": "sites",
          "columnsFrom": [
            "site_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.flow_ab_test_sessions": {
      "name": "flow_ab_test_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "experiment_id": {
          "name": "experiment_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "flow_type": {
          "name": "flow_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "questions_answered": {
          "name": "questions_answered",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "ads_shown": {
          "name": "ads_shown",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "ads_clicked": {
          "name": "ads_clicked",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "completed_flow": {
          "name": "completed_flow",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "abandoned_at": {
          "name": "abandoned_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "conversion_value": {
          "name": "conversion_value",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "time_spent": {
          "name": "time_spent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "device_type": {
          "name": "device_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "flow_ab_test_sessions_experiment_id_flow_ab_test_experiments_id_fk": {
          "name": "flow_ab_test_sessions_experiment_id_flow_ab_test_experiments_id_fk",
          "tableFrom": "flow_ab_test_sessions",
          "tableTo": "flow_ab_test_experiments",
          "columnsFrom": [
            "experiment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "flow_ab_test_sessions_session_id_user_sessions_session_id_fk": {
          "name": "flow_ab_test_sessions_session_id_user_sessions_session_id_fk",
          "tableFrom": "flow_ab_test_sessions",
          "tableTo": "user_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "session_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.leads": {
      "name": "leads",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "campaign_id": {
          "name": "campaign_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "question_id": {
          "name": "question_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "question_text": {
          "name": "question_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_answer": {
          "name": "user_answer",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "lead_response": {
          "name": "lead_response",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "first_name": {
          "name": "first_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "date_of_birth": {
          "name": "date_of_birth",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "gender": {
          "name": "gender",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "zip_code": {
          "name": "zip_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lead_price": {
          "name": "lead_price",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "webhook_delivered": {
          "name": "webhook_delivered",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "webhook_response": {
          "name": "webhook_response",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "delivery_attempts": {
          "name": "delivery_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "delivered_at": {
          "name": "delivered_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "leads_session_id_user_sessions_session_id_fk": {
          "name": "leads_session_id_user_sessions_session_id_fk",
          "tableFrom": "leads",
          "tableTo": "user_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "session_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leads_campaign_id_campaigns_id_fk": {
          "name": "leads_campaign_id_campaigns_id_fk",
          "tableFrom": "leads",
          "tableTo": "campaigns",
          "columnsFrom": [
            "campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leads_question_id_questions_id_fk": {
          "name": "leads_question_id_questions_id_fk",
          "tableFrom": "leads",
          "tableTo": "questions",
          "columnsFrom": [
            "question_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.personalization_hints": {
      "name": "personalization_hints",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "hint_type": {
          "name": "hint_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_entity": {
          "name": "target_entity",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_entity_id": {
          "name": "target_entity_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "actionable": {
          "name": "actionable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "implemented": {
          "name": "implemented",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "impact": {
          "name": "impact",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "confidence": {
          "name": "confidence",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "data_points": {
          "name": "data_points",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.question_impressions": {
      "name": "question_impressions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "question_id": {
          "name": "question_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "question_impressions_session_id_user_sessions_session_id_fk": {
          "name": "question_impressions_session_id_user_sessions_session_id_fk",
          "tableFrom": "question_impressions",
          "tableTo": "user_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "session_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "question_impressions_question_id_questions_id_fk": {
          "name": "question_impressions_question_id_questions_id_fk",
          "tableFrom": "question_impressions",
          "tableTo": "questions",
          "columnsFrom": [
            "question_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.question_responses": {
      "name": "question_responses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "question_id": {
          "name": "question_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "answer": {
          "name": "answer",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "question_responses_session_id_user_sessions_session_id_fk": {
          "name": "question_responses_session_id_user_sessions_session_id_fk",
          "tableFrom": "question_responses",
          "tableTo": "user_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "session_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "question_responses_question_id_questions_id_fk": {
          "name": "question_responses_question_id_questions_id_fk",
          "tableFrom": "question_responses",
          "tableTo": "questions",
          "columnsFrom": [
            "question_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.question_stats": {
      "name": "question_stats",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "question_id": {
          "name": "question_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "date": {
          "name": "date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "impressions": {
          "name": "impressions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "responses": {
          "name": "responses",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "subsequent_clicks": {
          "name": "subsequent_clicks",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "subsequent_conversions": {
          "name": "subsequent_conversions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "revenue": {
          "name": "revenue",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "avg_completion_time": {
          "name": "avg_completion_time",
          "type": "numeric(8, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "earnings_per_impression": {
          "name": "earnings_per_impression",
          "type": "numeric(10, 6)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "response_rate": {
          "name": "response_rate",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "question_stats_question_id_questions_id_fk": {
          "name": "question_stats_question_id_questions_id_fk",
          "tableFrom": "question_stats",
          "tableTo": "questions",
          "columnsFrom": [
            "question_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.questions": {
      "name": "questions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "text": {
          "name": "text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "options": {
          "name": "options",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "manual_priority": {
          "name": "manual_priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "auto_optimize": {
          "name": "auto_optimize",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "active": {
          "name": "active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.rtb_auctions": {
      "name": "rtb_auctions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "request_id": {
          "name": "request_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "winning_bid_id": {
          "name": "winning_bid_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "winning_price": {
          "name": "winning_price",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "second_price": {
          "name": "second_price",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "total_bids": {
          "name": "total_bids",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "auction_duration": {
          "name": "auction_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "served": {
          "name": "served",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "clicked": {
          "name": "clicked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "converted": {
          "name": "converted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "revenue": {
          "name": "revenue",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "rtb_auctions_request_id_rtb_bid_requests_request_id_fk": {
          "name": "rtb_auctions_request_id_rtb_bid_requests_request_id_fk",
          "tableFrom": "rtb_auctions",
          "tableTo": "rtb_bid_requests",
          "columnsFrom": [
            "request_id"
          ],
          "columnsTo": [
            "request_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "rtb_auctions_winning_bid_id_rtb_bids_id_fk": {
          "name": "rtb_auctions_winning_bid_id_rtb_bids_id_fk",
          "tableFrom": "rtb_auctions",
          "tableTo": "rtb_bids",
          "columnsFrom": [
            "winning_bid_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.rtb_bid_requests": {
      "name": "rtb_bid_requests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "request_id": {
          "name": "request_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "site_id": {
          "name": "site_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "device_type": {
          "name": "device_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "geo": {
          "name": "geo",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "user_profile": {
          "name": "user_profile",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "auction_type": {
          "name": "auction_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'first_price'"
        },
        "floor_price": {
          "name": "floor_price",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.001'"
        },
        "timeout": {
          "name": "timeout",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "rtb_bid_requests_site_id_sites_id_fk": {
          "name": "rtb_bid_requests_site_id_sites_id_fk",
          "tableFrom": "rtb_bid_requests",
          "tableTo": "sites",
          "columnsFrom": [
            "site_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "rtb_bid_requests_request_id_unique": {
          "name": "rtb_bid_requests_request_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "request_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.rtb_bids": {
      "name": "rtb_bids",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "request_id": {
          "name": "request_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "campaign_id": {
          "name": "campaign_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "bid_price": {
          "name": "bid_price",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "ad_markup": {
          "name": "ad_markup",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "click_url": {
          "name": "click_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "impression_url": {
          "name": "impression_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "score": {
          "name": "score",
          "type": "numeric(10, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "won": {
          "name": "won",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "rtb_bids_request_id_rtb_bid_requests_request_id_fk": {
          "name": "rtb_bids_request_id_rtb_bid_requests_request_id_fk",
          "tableFrom": "rtb_bids",
          "tableTo": "rtb_bid_requests",
          "columnsFrom": [
            "request_id"
          ],
          "columnsTo": [
            "request_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "rtb_bids_campaign_id_campaigns_id_fk": {
          "name": "rtb_bids_campaign_id_campaigns_id_fk",
          "tableFrom": "rtb_bids",
          "tableTo": "campaigns",
          "columnsFrom": [
            "campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.rtb_campaign_performance": {
      "name": "rtb_campaign_performance",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "campaign_id": {
          "name": "campaign_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "bid_requests": {
          "name": "bid_requests",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "bids": {
          "name": "bids",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "wins": {
          "name": "wins",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "impressions": {
          "name": "impressions",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "clicks": {
          "name": "clicks",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "conversions": {
          "name": "conversions",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "spend": {
          "name": "spend",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "revenue": {
          "name": "revenue",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "avg_bid_price": {
          "name": "avg_bid_price",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "avg_win_price": {
          "name": "avg_win_price",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "win_rate": {
          "name": "win_rate",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "ctr": {
          "name": "ctr",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "conversion_rate": {
          "name": "conversion_rate",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "rtb_campaign_performance_campaign_id_campaigns_id_fk": {
          "name": "rtb_campaign_performance_campaign_id_campaigns_id_fk",
          "tableFrom": "rtb_campaign_performance",
          "tableTo": "campaigns",
          "columnsFrom": [
            "campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.segment_performance": {
      "name": "segment_performance",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "segment_id": {
          "name": "segment_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "campaign_id": {
          "name": "campaign_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "impressions": {
          "name": "impressions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "clicks": {
          "name": "clicks",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "conversions": {
          "name": "conversions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "revenue": {
          "name": "revenue",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "date": {
          "name": "date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "segment_performance_segment_id_audience_segments_id_fk": {
          "name": "segment_performance_segment_id_audience_segments_id_fk",
          "tableFrom": "segment_performance",
          "tableTo": "audience_segments",
          "columnsFrom": [
            "segment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "segment_performance_campaign_id_campaigns_id_fk": {
          "name": "segment_performance_campaign_id_campaigns_id_fk",
          "tableFrom": "segment_performance",
          "tableTo": "campaigns",
          "columnsFrom": [
            "campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sites": {
      "name": "sites",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "domain": {
          "name": "domain",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "vertical": {
          "name": "vertical",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "excluded_verticals": {
          "name": "excluded_verticals",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "site_code": {
          "name": "site_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "active": {
          "name": "active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "flow_config": {
          "name": "flow_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"type\":\"progressive\",\"questionsPerAd\":2,\"maxQuestions\":6,\"maxAds\":3,\"requireEmail\":true}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "sites_site_code_unique": {
          "name": "sites_site_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "site_code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_behavior_patterns": {
      "name": "user_behavior_patterns",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "pattern_type": {
          "name": "pattern_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "criteria": {
          "name": "criteria",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "frequency": {
          "name": "frequency",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "avg_response_time": {
          "name": "avg_response_time",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "conversion_rate": {
          "name": "conversion_rate",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "last_updated": {
          "name": "last_updated",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_interactions": {
      "name": "user_interactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "interaction_type": {
          "name": "interaction_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "question_id": {
          "name": "question_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "campaign_id": {
          "name": "campaign_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "response_time": {
          "name": "response_time",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "answer": {
          "name": "answer",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_interactions_question_id_questions_id_fk": {
          "name": "user_interactions_question_id_questions_id_fk",
          "tableFrom": "user_interactions",
          "tableTo": "questions",
          "columnsFrom": [
            "question_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_interactions_campaign_id_campaigns_id_fk": {
          "name": "user_interactions_campaign_id_campaigns_id_fk",
          "tableFrom": "user_interactions",
          "tableTo": "campaigns",
          "columnsFrom": [
            "campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_segment_memberships": {
      "name": "user_segment_memberships",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "segment_id": {
          "name": "segment_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "added_at": {
          "name": "added_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "score": {
          "name": "score",
          "type": "numeric(5, 3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'1.0'"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_segment_memberships_segment_id_audience_segments_id_fk": {
          "name": "user_segment_memberships_segment_id_audience_segments_id_fk",
          "tableFrom": "user_segment_memberships",
          "tableTo": "audience_segments",
          "columnsFrom": [
            "segment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_sessions": {
      "name": "user_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "site_id": {
          "name": "site_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "device": {
          "name": "device",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "state": {
          "name": "state",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_profile": {
          "name": "user_profile",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_sessions_site_id_sites_id_fk": {
          "name": "user_sessions_site_id_sites_id_fk",
          "tableFrom": "user_sessions",
          "tableTo": "sites",
          "columnsFrom": [
            "site_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_sessions_session_id_unique": {
          "name": "user_sessions_session_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "session_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}